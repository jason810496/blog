<h1 id="76th-leetcode-bi-weekly-contest">76th LeetCode Bi-Weekly Contest</h1>

<p><a href="https://leetcode.com/contest/biweekly-contest-76">76th LeetCode Weekly Contest</a></p>

<p>上週週賽解出一題，在學校也有開始刷刷題（不過效率不高就是了，都是解daily challange或是tag是<code class="language-plaintext highlighter-rouge">dp</code>,<code class="language-plaintext highlighter-rouge">kth-element</code>的）</p>

<p>這次雙週賽解出<strong>兩題</strong></p>

<p>第三題是水題，但是<del>寫爛吃兩個WA就沒有再送了</del></p>

<p>第四題沒想法</p>

<p>精神分數<strong>三題</strong></p>

<p><strong>這次雙週賽的四個題目：</strong></p>

<ul>
  <li>
    <p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/find-closest-number-to-zero/">Find Closest Number to Zero</a></p>
  </li>
  <li>
    <p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/number-of-ways-to-buy-pens-and-pencils/">Number of Ways to Buy Pens and Pencils</a></p>
  </li>
  <li>
    <p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/design-an-atm-machine/">Design an ATM Machine</a></p>
  </li>
  <li>
    <p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/maximum-score-of-a-node-sequence/">Maximum Score of a Node Sequence</a></p>
  </li>
</ul>

<h2 id="find-closest-number-to-zero">Find Closest Number to Zero</h2>

<p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/find-closest-number-to-zero/">Find Closest Number to Zero</a></p>

<h3 id="description">Description:</h3>

<p>Given an integer array <code class="language-plaintext highlighter-rouge">nums</code> of size <code class="language-plaintext highlighter-rouge">n</code>, return the number with the value <strong>closest</strong> to <code class="language-plaintext highlighter-rouge">0</code> in <code class="language-plaintext highlighter-rouge">nums</code>. If there are multiple answers, return the number with the <strong>largest</strong> value.</p>

<h3 id="example">example:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: nums = [-4,-2,1,4,8]
Output: 1
Explanation:
The distance from -4 to 0 is |-4| = 4.
The distance from -2 to 0 is |-2| = 2.
The distance from 1 to 0 is |1| = 1.
The distance from 4 to 0 is |4| = 4.
The distance from 8 to 0 is |8| = 8.
Thus, the closest number to 0 in the array is 1.
</code></pre></div></div>

<p>要找出陣列中<strong>與0的差</strong>的元素，如果有兩個元素距離0都一樣近則選<strong>較大</strong>的</p>

<h3 id="concept">Concept：</h3>

<p><code class="language-plaintext highlighter-rouge">O(n)</code>掃過去，開三個變數紀錄：</p>

<p>之前最小的差：<code class="language-plaintext highlighter-rouge">dif</code></p>

<p>當前最佳解：<code class="language-plaintext highlighter-rouge">ans</code></p>

<p>計算當前元素與0的差：<code class="language-plaintext highlighter-rouge">cur</code></p>

<p>並更新最小差，如果當前差（<code class="language-plaintext highlighter-rouge">cur</code>）與之前最小差（<code class="language-plaintext highlighter-rouge">dif</code>）相同，則選較大的<code class="language-plaintext highlighter-rouge">ans</code></p>

<h2 id="solution">Solution：</h2>

<p><strong>Solution</strong></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">findClosestNumber</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">dif</span><span class="o">=</span><span class="n">INF</span><span class="p">,</span> <span class="n">ans</span><span class="o">=-</span><span class="n">INF</span><span class="p">;</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">:</span><span class="n">nums</span><span class="p">){</span>
            <span class="kt">int</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">cur</span> <span class="o">&lt;</span> <span class="n">dif</span><span class="p">){</span>
                <span class="n">ans</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
                <span class="n">dif</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="n">dif</span> <span class="o">==</span> <span class="n">cur</span> <span class="o">&amp;&amp;</span> <span class="n">i</span><span class="o">&gt;</span><span class="n">ans</span><span class="p">){</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="number-of-ways-to-buy-pens-and-pencils">Number of Ways to Buy Pens and Pencils</h2>

<p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/number-of-ways-to-buy-pens-and-pencils/">Number of Ways to Buy Pens and Pencils</a></p>
<h3 id="description-1">Description:</h3>

<p>You are given an integer <code class="language-plaintext highlighter-rouge">total</code> indicating the amount of money you have. You are also given two integers <code class="language-plaintext highlighter-rouge">cost1</code> and <code class="language-plaintext highlighter-rouge">cost2</code> indicating the price of a pen and pencil respectively. You can spend <strong>part or all</strong> of your money to buy multiple quantities (or none) of each kind of writing utensil.</p>

<p>Return the <strong>number of distinct ways</strong> you can buy some number of pens and pencils.</p>

<h3 id="example-1">example:</h3>

<p><strong>Example 1:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: total = 20, cost1 = 10, cost2 = 5
Output: 9
Explanation: The price of a pen is 10 and the price of a pencil is 5.
- If you buy 0 pens, you can buy 0, 1, 2, 3, or 4 pencils.
- If you buy 1 pen, you can buy 0, 1, or 2 pencils.
- If you buy 2 pens, you cannot buy any pencils.
The total number of ways to buy pens and pencils is 5 + 3 + 1 = 9.
</code></pre></div></div>
<p><strong>Example 2:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: total = 5, cost1 = 10, cost2 = 10
Output: 1
Explanation: The price of both pens and pencils are 10, which cost more than total, so you cannot buy any writing utensils. Therefore, there is only 1 way: buy 0 pens and 0 pencils.
</code></pre></div></div>

<p>給兩種筆的價格（<code class="language-plaintext highlighter-rouge">cost1</code> , <code class="language-plaintext highlighter-rouge">cost2</code>）和可以購買的金額(<code class="language-plaintext highlighter-rouge">total</code>)。</p>

<p>要求出<strong>所有購買組合</strong>的可能</p>

<h3 id="concept-1">Concept：</h3>

<p>一看到的時候被<code class="language-plaintext highlighter-rouge">dp</code>綁住了</p>

<p>一直從<code class="language-plaintext highlighter-rouge">knapsack problem</code>或是<code class="language-plaintext highlighter-rouge">coin change</code>的方向去想</p>

<p>不過這題只需要枚舉其中一個數量，並判斷金額有沒有超過限制</p>

<p>而可能的組數用乘法、除法記算就可以了</p>

<p><del>完全不用DP…</del></p>

<h2 id="solution-1">Solution：</h2>

<p><strong>Solution</strong></p>

<p>不過當時忘記把debug的<code class="language-plaintext highlighter-rouge">cout</code>拿掉，吃了一個TLE….</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">waysToBuyPensPencils</span><span class="p">(</span><span class="kt">int</span> <span class="n">total</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cost1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cost2</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
        <span class="kt">long</span> <span class="kt">long</span> <span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">i</span><span class="o">*</span><span class="n">cost1</span> <span class="o">&gt;</span> <span class="n">total</span> <span class="p">)</span> <span class="k">break</span><span class="p">;</span>
            
            <span class="kt">int</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">total</span> <span class="o">-</span> <span class="n">i</span><span class="o">*</span><span class="n">cost1</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">cur</span><span class="o">/</span><span class="n">cost2</span><span class="p">;</span>

            <span class="n">ans</span><span class="o">+=</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
            
            <span class="c1">// cout&lt;&lt;j+1&lt;&lt;'\n';</span>
            <span class="n">i</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">ans</span><span class="o">==</span><span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span><span class="o">:</span><span class="n">ans</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="maximum-product-after-k-increments">Maximum Product After K Increments</h2>

<p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/design-an-atm-machine/">Design an ATM Machine</a></p>

<h3 id="description-">Description :</h3>
<p>There is an ATM machine that stores banknotes of <code class="language-plaintext highlighter-rouge">5</code> denominations: <code class="language-plaintext highlighter-rouge">20</code>, <code class="language-plaintext highlighter-rouge">50</code>, <code class="language-plaintext highlighter-rouge">100</code>, <code class="language-plaintext highlighter-rouge">200</code>, and 500 dollars. Initially the ATM is empty. The user can use the machine to deposit or withdraw any amount of money.</p>

<p>When withdrawing, the machine prioritizes using banknotes of <strong>larger</strong> values.</p>

<ul>
  <li>
    <p>For example, if you want to withdraw <code class="language-plaintext highlighter-rouge">$300</code> and there are <code class="language-plaintext highlighter-rouge">2</code> <code class="language-plaintext highlighter-rouge">$50</code> banknotes, <code class="language-plaintext highlighter-rouge">1</code> <code class="language-plaintext highlighter-rouge">$100</code> banknote, and <code class="language-plaintext highlighter-rouge">1</code> <code class="language-plaintext highlighter-rouge">$200</code> banknote, then the machine will use the <code class="language-plaintext highlighter-rouge">$100</code> and <code class="language-plaintext highlighter-rouge">$200</code> banknotes.</p>
  </li>
  <li>
    <p>However, if you try to withdraw <code class="language-plaintext highlighter-rouge">$600</code> and there are <code class="language-plaintext highlighter-rouge">3</code> <code class="language-plaintext highlighter-rouge">$200</code> banknotes and <code class="language-plaintext highlighter-rouge">1</code> <code class="language-plaintext highlighter-rouge">$500</code> banknote, then the withdraw request will be rejected because the machine will first try to use the <code class="language-plaintext highlighter-rouge">$500</code> banknote and then be unable to use banknotes to complete the remaining <code class="language-plaintext highlighter-rouge">$100</code>. Note that the machine is <strong>not</strong> allowed to use the <code class="language-plaintext highlighter-rouge">$200</code> banknotes instead of the <code class="language-plaintext highlighter-rouge">$500</code> banknote.</p>
  </li>
</ul>

<p>Implement the ATM class:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ATM()</code> Initializes the ATM object.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">void deposit(int[] banknotesCount)</code> Deposits new banknotes in the order <code class="language-plaintext highlighter-rouge">$20</code>, <code class="language-plaintext highlighter-rouge">$50</code>, <code class="language-plaintext highlighter-rouge">$100</code>, <code class="language-plaintext highlighter-rouge">$200</code>, and <code class="language-plaintext highlighter-rouge">$500</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">int[] withdraw(int amount)</code> Returns an array of length <code class="language-plaintext highlighter-rouge">5</code> of the number of banknotes that will be handed to the user in the order <code class="language-plaintext highlighter-rouge">$20</code>, <code class="language-plaintext highlighter-rouge">$50</code>, <code class="language-plaintext highlighter-rouge">$100</code>, <code class="language-plaintext highlighter-rouge">$200</code>, and <code class="language-plaintext highlighter-rouge">$500</code>, and update the number of banknotes in the ATM after withdrawing. Returns <code class="language-plaintext highlighter-rouge">[-1]</code> if it is not possible (do not withdraw any banknotes in this case).</p>
    <h3 id="exmample">Exmample:</h3>
  </li>
</ul>

<p><strong>Example 1:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input
["ATM", "deposit", "withdraw", "deposit", "withdraw", "withdraw"]
[[], [[0,0,1,2,1]], [600], [[0,1,0,1,1]], [600], [550]]
Output
[null, null, [0,0,1,0,1], null, [-1], [0,1,0,0,1]]
</code></pre></div></div>

<p>設計一個提款機，可以<strong>存款</strong>、<strong>提領</strong></p>

<p>提領方式是：由<strong>大的</strong>幣值開始取</p>

<h3 id="concept-2">Concept：</h3>

<p>沒想到紀錄幣值數量的陣列要開<code class="language-plaintext highlighter-rouge">long long</code>（因為至多有<code class="language-plaintext highlighter-rouge">5000</code>次 call ）</p>

<p>還有原本寫成:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">amount</span><span class="o">/</span><span class="n">coin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">last</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>應該是如果需要該幣值的數量大於剩餘的數量：還是先扣除剩餘的數量</p>

<h3 id="solution-2">Solution:</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ATM</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">ATM</span><span class="p">()</span> <span class="p">{</span>
        
    <span class="p">}</span>
    
    <span class="kt">int</span> <span class="n">coin</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">500</span><span class="p">}</span> <span class="p">;</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">last</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">=</span><span class="p">{};</span>
    <span class="kt">void</span> <span class="n">deposit</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">banknotesCount</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">last</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">banknotesCount</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">withdraw</span><span class="p">(</span><span class="kt">int</span> <span class="n">amount</span><span class="p">)</span> <span class="p">{</span>

        <span class="kt">int</span> <span class="n">cur</span><span class="o">=</span> <span class="n">amount</span><span class="p">;</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">cur</span> <span class="o">&lt;</span> <span class="n">coin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
            
            <span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span> <span class="p">(</span><span class="kt">long</span> <span class="kt">long</span><span class="p">)(</span><span class="n">cur</span><span class="o">/</span><span class="n">coin</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">,</span> <span class="n">last</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">);</span>
            <span class="n">cur</span><span class="o">-=</span> <span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">coin</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>



        <span class="k">if</span><span class="p">(</span> <span class="n">cur</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="k">return</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">last</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-=</span><span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

</code></pre></div></div>

<h2 id="maximum-score-of-a-node-sequence">Maximum Score of a Node Sequence</h2>

<p><a href="https://leetcode.com/contest/biweekly-contest-76/problems/maximum-score-of-a-node-sequence/">Maximum Score of a Node Sequence</a></p>

<h3 id="description--1">Description :</h3>

<p>There is an <strong>undirected</strong> graph with <code class="language-plaintext highlighter-rouge">n</code> nodes, numbered from <code class="language-plaintext highlighter-rouge">0</code> to <code class="language-plaintext highlighter-rouge">n - 1</code>.</p>

<p>You are given a <code class="language-plaintext highlighter-rouge">0-indexed</code> integer array <code class="language-plaintext highlighter-rouge">scores</code> of length <code class="language-plaintext highlighter-rouge">n</code> where <code class="language-plaintext highlighter-rouge">scores[i]</code> denotes the score of node <code class="language-plaintext highlighter-rouge">i</code>. You are also given a 2D integer array <code class="language-plaintext highlighter-rouge">edges</code> where <code class="language-plaintext highlighter-rouge">edges[i] = [ai, bi]</code> denotes that there exists an <strong>undirected</strong> edge connecting nodes <code class="language-plaintext highlighter-rouge">ai</code> and <code class="language-plaintext highlighter-rouge">bi</code>.</p>

<p>A node sequence is <strong>valid</strong> if it meets the following conditions:</p>

<ul>
  <li>
    <p>There is an edge connecting every pair of <strong>adjacent</strong> nodes in the sequence.</p>
  </li>
  <li>
    <p>No node appears more than once in the sequence.</p>
  </li>
</ul>

<p>The score of a node sequence is defined as the <strong>sum</strong> of the scores of the nodes in the sequence.</p>

<p>Return the <strong>maximum score</strong> of a valid node sequence with a length of <code class="language-plaintext highlighter-rouge">4</code>. If no such sequence exists, return <code class="language-plaintext highlighter-rouge">-1</code>.</p>

<h3 id="example-2">Example:</h3>

<p><strong>Example 1:</strong></p>

<p><img src="https://i.imgur.com/sVsVN5g.png" alt=" leetcode biwwely 76-4-1" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Input: scores = [5,2,9,8,4], edges = [[0,1],[1,2],[2,3],[0,2],[1,3],[2,4]]
Output: 24
Explanation: The figure above shows the graph and the chosen node sequence [0,1,2,3].
The score of the node sequence is 5 + 2 + 9 + 8 = 24.
It can be shown that no other node sequence has a score of more than 24.
Note that the sequences [3,1,2,0] and [1,0,2,3] are also valid and have a score of 24.
The sequence [0,3,2,4] is not valid since no edge connects nodes 0 and 3.

</code></pre></div></div>

<p><strong>Example 2:</strong></p>

<p><img src="https://i.imgur.com/N30G3V1.png" alt=" leetcode biwwely 76-4-2" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Input: scores = [9,20,6,4,11,12], edges = [[0,3],[5,3],[2,4],[1,3]]
Output: -1
Explanation: The figure above shows the graph.
There are no valid node sequences of length 4, so we return -1.

</code></pre></div></div>

<p>給無相圖中的所有<strong>邊</strong>，要找出<strong>節點和最大</strong>且<strong>長度 = 4</strong>（有<strong>4</strong>個節點）的一條<strong>鍊</strong></p>

<p>回傳符合條件的<strong>節點最大和</strong></p>

<p>太久沒寫圖論（這應該是學測後寫的第一題…</p>

<p>都被之前<code class="language-plaintext highlighter-rouge">DFS</code>或<code class="language-plaintext highlighter-rouge">BFS</code>的框架綁住</p>

<p>當時是枚舉所有鍊的開頭，再DFS長度為4的鍊</p>

<p>但顯然超時</p>

<h3 id="concept-3">Concept:</h3>

<p>我看了這幾篇題解才看懂ㄉ</p>

<p><a href="https://leetcode.com/problems/maximum-score-of-a-node-sequence/discuss/1953669/Python3-Explanation-with-pictures-top-3-neighbors">https://leetcode.com/problems/maximum-score-of-a-node-sequence/discuss/1953669/Python3-Explanation-with-pictures-top-3-neighbors</a></p>

<p><a href="https://leetcode.com/problems/maximum-score-of-a-node-sequence/discuss/1953670/C%2B%2B-O(E)-edge-traverse">https://leetcode.com/problems/maximum-score-of-a-node-sequence/discuss/1953670/C%2B%2B-O(E)-edge-traverse</a></p>

<p><a href="https://leetcode.com/problems/maximum-score-of-a-node-sequence/discuss/1953905/C%2B%2B-Simple-Edge-traversal-O(ElogE)">https://leetcode.com/problems/maximum-score-of-a-node-sequence/discuss/1953905/C%2B%2B-Simple-Edge-traversal-O(ElogE)</a></p>

<ul>
  <li><strong>找出符合條件的鍊</strong>
要找到<strong>長度 = 4</strong>的一條<strong>鍊</strong></li>
</ul>

<p>我們可以先抓一條<strong>邊</strong>(假設叫邊<code class="language-plaintext highlighter-rouge">a-b</code>)</p>

<p>我們只要再找出與<code class="language-plaintext highlighter-rouge">a</code>節點相連的<code class="language-plaintext highlighter-rouge">c</code>節點</p>

<p>再找出與<code class="language-plaintext highlighter-rouge">b</code>節點相連的<code class="language-plaintext highlighter-rouge">d</code>節點</p>

<p>看起來會像：<code class="language-plaintext highlighter-rouge">c-a-b-d</code></p>

<p>(並且<code class="language-plaintext highlighter-rouge">c!=b</code> <code class="language-plaintext highlighter-rouge">a!=d</code> <code class="language-plaintext highlighter-rouge">c!=d</code>)</p>

<ul>
  <li><strong>找出最大值</strong></li>
</ul>

<p>建立圖後，可以將<strong>有連結</strong>的節點按照<code class="language-plaintext highlighter-rouge">score</code><strong>排序</strong></p>

<p>這樣枚舉該邊（一樣叫邊<code class="language-plaintext highlighter-rouge">a-b</code>）成功就會是以邊<code class="language-plaintext highlighter-rouge">a-b</code>當中心的<strong>最大值</strong></p>

<p>像是這樣<code class="language-plaintext highlighter-rouge"> ( ci ,cj ,ck ...) - a - b - ( di , dj ,dk ...) </code></p>

<p><code class="language-plaintext highlighter-rouge">( ci ,cj ,ck ...)</code>代表與<code class="language-plaintext highlighter-rouge">a</code>節點<strong>相連</strong>並按照<code class="language-plaintext highlighter-rouge">score</code>排序的節點</p>

<p><code class="language-plaintext highlighter-rouge">( di ,dj ,dk ...)</code>代表與<code class="language-plaintext highlighter-rouge">b</code>節點<strong>相連</strong>並按照<code class="language-plaintext highlighter-rouge">score</code>排序的節點</p>

<p>一旦枚舉到符合條件的<code class="language-plaintext highlighter-rouge"> ci - a - b - di </code>就會是以<code class="language-plaintext highlighter-rouge">a-b</code>為中心的<strong>最大值</strong></p>

<h3 id="solution-3">Solution:</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">maximumScore</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">scores</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">edges</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">scores</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">G</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">e</span><span class="o">:</span> <span class="n">edges</span><span class="p">){</span>
            <span class="n">G</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]].</span><span class="n">PB</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="n">G</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]].</span><span class="n">PB</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>

        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">i</span><span class="o">:</span><span class="n">G</span><span class="p">){</span>
            <span class="n">sort</span><span class="p">(</span><span class="n">range</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">,</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">u</span><span class="p">,</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">){</span>
                <span class="k">return</span> <span class="n">scores</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">scores</span><span class="p">[</span><span class="n">v</span><span class="p">];</span>
            <span class="p">});</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">ans</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="n">e</span><span class="o">:</span><span class="n">edges</span><span class="p">){</span>
            <span class="c1">// a-u-v-b </span>
            <span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span> <span class="n">sum</span><span class="o">=</span><span class="n">scores</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">+</span><span class="n">scores</span><span class="p">[</span><span class="n">v</span><span class="p">];</span>
            
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">:</span><span class="n">G</span><span class="p">[</span><span class="n">u</span><span class="p">]){</span>
                <span class="k">if</span><span class="p">(</span> <span class="n">a</span><span class="o">==</span><span class="n">v</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>

                <span class="kt">bool</span> <span class="n">flag</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
                
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">b</span><span class="o">:</span><span class="n">G</span><span class="p">[</span><span class="n">v</span><span class="p">]){</span>
                    
                    <span class="k">if</span><span class="p">(</span> <span class="n">b</span><span class="o">==</span><span class="n">u</span> <span class="o">||</span> <span class="n">a</span><span class="o">==</span><span class="n">b</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>

                    <span class="n">ans</span><span class="o">=</span><span class="n">max</span><span class="p">(</span> <span class="n">ans</span><span class="p">,</span> <span class="n">sum</span><span class="o">+</span><span class="n">scores</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">+</span><span class="n">scores</span><span class="p">[</span><span class="n">b</span><span class="p">]);</span>
                    
                    <span class="n">flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="k">if</span><span class="p">(</span> <span class="n">flag</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>

    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>
