---
title:  動態顯示的Zerojudge stats！
subtitle: 在Github Profile顯示當前Zerojudge解題紀錄！
date:   2022-02-08 19:16:00 +0800

tag: [github,note]

thumbnail-img: "https://i.imgur.com/fj8HzX8.png" #1:1 (450:450)

cover-img: "https://i.imgur.com/D5S7ElO.png"

comments: true

# ======= Other parameters ========
layout: post
readtime: true

# test local : bundle exec jekyll serve
---


# Zerojudge stats

繼上篇[如何打造好看的Github Profile]()

## 動機

繼上篇[如何打造好看的Github Profile]()，就是看到許多大佬的GH首頁都很炫炮的統計紀錄！

又翻了翻GH，發現各大解題平台如：[leetcode]()、[codeforce]()、[TIOJ]()等都有人做過專們放在GH首頁好看的解題統計了

唯獨~~我刷最多水題的~~[Zerojudge]()沒有

那只好自己做一個了(⊙ω⊙)

## 如何辦到的？

但是仔細看一下發現：Profile page竟然是一個`README.md`，那他們是怎麼在靜態的頁面顯示即時的資料的？

接著看一下他們的raw markdown，可以看到那些統計紀錄都是一個個圖片，而圖片的`src`則是連到某個網站的`url`。

如：這個可以[顯示在Github活動狀態的project](https://github.com/DenverCoder1/github-readme-streak-stats)

他的使用方法：
`![GitHub Streak](https://github-readme-streak-stats.herokuapp.com/?user=DenverCoder1&theme=dark)`

大概揣摩一下，應該是：

當瀏覽者訪問作者頁面時，將上面的`url`當作圖片source，並且透過`GET` parameter來查詢用戶資料或指定主題。而他的server在收到request後，就向Github查詢用戶資料再包成一個`SVG`顯示在頁面上，並且頁面的`content-type`要指定為`SVG`（這樣才能當成圖檔來用）。

## 為什麼Zerojudge沒有人做？

我猜想應該是：

1. Zerojudge需要登入才能查詢用戶資料
如：leetcode、TIOJ不需要登入，而codeforce則是提供API查詢
2. Zerojudge的登入方式
目前ZJ的登入方式有兩種：
* 通過`recaptcha 2`驗證(防機器人ㄉ那個驗證)
* 登入google帳戶
3. ~~大佬都不想寫Zerojudge~~(畢竟題目太雜了)

而要讓**server登入Zerojudge**並讓某一個帳號持**續維持登入狀態**是最大的困難點

## 整體架構概念

所以我要先搭建一個app能夠**即時查詢Zerojudge的資料**，並將統計資料包成SVG回傳，還有要能夠**方便地登入Zerojudge**並**維持登入狀態**。

又因為比起PHP(我還沒學過)、Javascript(我沒有學過他的後端，也比較不熟悉它的語法)、Ruby(也沒學過)等我比較熟悉Python

所以就用[flask]()來寫這個專案的後端


### 登入Zerojudge

#### 通過recaptcha驗證

目前要破解recaptcha最有效率的方式是透過音檔辨識(畢竟圖像辨識的技術沒有到音檔辨識那麼精準？而且還需要額外訓練一個模型才有辦法)

音檔辨識的python library有`SpeechRecognition`(它可以接到Google Cloud Speech API，算是~~以其人之道，還治其人之身~~)

#### 登入google帳號

要透過python登入google帳號，我有試過`beautifulsoup 4`但是一隻會有bug..

另一種方式是透過selenium + webdriver(可以算是透過程式操控一個瀏覽器)但是也很容易被擋

#### 嗯...
這兩個方式都會需要將webdriver塞到server裡面，登入方式算是透過程式操控一個瀏覽器然後在指定的位置按按鈕、送出張號密碼來登入

我覺的這個這兩種方法都笨笨ㄉ而且效率也不高，但是在構思階段也沒有想到什麼好方法

#### 靈光一閃

突然想到：當一個帳號登入到Zerojudge時，會產生一個`JSESSIONID`並且發出request時只需要改變`≠】`



###

