[{"content":"","date":"2024-06-09","externalUrl":null,"permalink":"/zh-tw/tags/blog/","section":"æ¨™ç±¤","summary":"","title":"Blog","type":"tags"},{"content":"","date":"2024-06-09","externalUrl":null,"permalink":"/zh-tw/tags/database/","section":"æ¨™ç±¤","summary":"","title":"Database","type":"tags"},{"content":" å‰æƒ…æè¦ # Django é›–ç„¶å¯ä»¥è¨­å®š CONNECTION_MAX_AGE ä¹‹é¡çš„ config ä½†æ˜¯å°æ–¼ä½¿ç”¨ gunicorn ( muti-process ) è·‘èµ·å¤šå€‹ API instance æˆ–æ˜¯åœ¨ k8s ç”¨ HPA æ“´å±• API instance æ™‚ é‚„æ˜¯æœƒå‡ºç¾ DB éå¤š connection çš„å•é¡Œï¼\né—œæ–¼ PgBouncer # pgbouncer/pgbouncer lightweight connection pooler for PostgreSQL C 2724 429 PgBouncer : å¯ä»¥ç•¶ä½œé›†ä¸­çš„ DB Connection Pool çš„ä¸­é–“ä»¶\nè®“å„å€‹å¾Œç«¯æœå‹™ instance é€é PgBouncer é‡è¤‡åˆ©ç”¨ DB connection\nå¦‚åœ–æ‰€ç¤ºï¼š\nåœ¨å³å´çš„ Transactions per second å¯ä»¥çœ‹åˆ° 3 æ¬¡ load testing é£†é«˜çš„ transactions æ•¸é‡ è€Œ ç¬¬ 2 æ¬¡ çš„ load testing æ˜¯ ä½¿ç”¨ Django åŸç”Ÿçš„ DB é€£æ¥æ–¹å¼ ç¬¬ 1 ã€ 3 æ¬¡ æ˜¯ä½¿ç”¨ pgbouncer ä½œç‚º WebService instance çš„é€£æ¥å°è±¡ å¯ä»¥è§€å¯Ÿåˆ°å·¦å´ Server sessions ( ä¹Ÿå¯ä»¥è¦–ç‚ºç•¶å‰çš„ DB connection æ•¸é‡ ) å¯ä»¥çœ‹åˆ° ç¬¬ 2 æ¬¡ çš„ load testingï¼šæœ‰å‡ºç¾ DB éå¤š connection çš„å•é¡Œï¼ è€Œ ç¬¬ 1 ã€ 3 æ¬¡ çš„ load testing : DB connection ç©©å®šçš„ç¶­æŒåœ¨ 20 å¹¾ å¾Œç«¯æœå‹™ Config # éœ€è¦ç‰¹åˆ¥è¨­å®šçš„åœ°æ–¹ï¼š\ndocker-compose.yml .env docker-compose.yml db å’Œ pgbouncer è¦ æ›åœ¨åŒä¸€å€‹ network å› ç‚ºæ˜¯å¾ Docker çš„ internal network æ‰€ä»¥å°æ–¼ pgbouncer çš„ postgres HOST éœ€è¦å¡« db db: image: postgres:15.1 container_name: postgres restart: always environment: POSTGRES_USER: your_postgres_user POSTGRES_PASSWORD: your_postgres_password POSTGRES_DB: dev ports: - 5432:5432 volumes: - pg_data:/var/lib/postgresql/data networks: - django_network pgbouncer: image: bitnami/pgbouncer container_name: pgbouncer restart: always ports: - 6432:6432 # å¦‚æœè¦é€£ `pgbouncer` éœ€è¦é€£ 6432 port environment: POSTGRESQL_USERNAME: your_postgres_user POSTGRESQL_PASSWORD: your_postgres_password POSTGRESQL_HOST: db POSTGRESQL_PORT: 5432 POSTGRESQL_DATABASE: dev PGBOUNCER_DATABASE: dev networks: - django_network # è®“ `db` å’Œ `pgbouncer` åœ¨åŒä¸€å€‹ network .env å¦‚æœè¦é€£ pgbouncer éœ€è¦æŠŠ DB_BOUNCER=True ä¸¦ä¸” DB_PORT=6432 # if you want to use postgres you should set DB_ENGINE DB_ENGINE=django.db.backends.postgresql DB_HOST=127.0.0.1 # DB_PORT=5432 DB_NAME=postgres DB_USER=USER_NAME DB_PASSWORD=PASSWORD12345678 # if you want to use `pgbouncer` you should set DB_BOUNCER=True # and set DB_PORT to 6432 DB_BOUNCER=True DB_PORT=6432 å¾Œç«¯æœå‹™ setting.py ä¿®æ”¹ # æœ‰æ›´æ”¹åˆ°çš„ç´°ç¯€ï¼š\né€™é‚Šä½¿ç”¨ pydantic çš„ BaseSettings ä¾†è¨­å®š DB çš„ config ä¸¦ä¸”åœ¨ settings.py ä¸­ï¼Œæ ¹æ“š DB_BOUNCER ä¾†æ±ºå®šè¦é€£æ¥ DB æˆ–æ˜¯ pgbouncer config.py\nfrom pydantic import BaseSettings,Field class DATABASE_SETTINGS(BaseSettings): model_config = SettingsConfigDict(env_prefix=\u0026#39;DB_\u0026#39;) ENGINE: str = Field(default=\u0026#39;django.db.backends.sqlite3\u0026#39;) HOST: str = Field(default=\u0026#39;\u0026#39;) PORT: int = Field(default=\u0026#39;\u0026#39;) NAME: str = Field(default=\u0026#39;\u0026#39;) USER: str = Field(default=\u0026#39;\u0026#39;) PASSWORD: str = Field(default=\u0026#39;\u0026#39;) CONN_MAX_AGE: int = Field(default=1) CONN_HEALTH_CHECKS: bool = Field(default=True) BOUNCER: bool = Field(default=False) database_settings = DATABASE_SETTINGS() settings.py\nfrom config import database_settings DATABASES = { \u0026#39;default\u0026#39;: database_settings.model_dump(mode=\u0026#34;json\u0026#34;) } if database_settings.BOUNCER: DATABASES[\u0026#39;default\u0026#39;][\u0026#39;DISABLE_SERVER_SIDE_CURSORS\u0026#39;] = True Reference # https://saadmk11.github.io/blog/posts/django-postgresql-database-connection-pooling-with-pgbouncer/ https://stackoverflow.com/questions/76046768/configure-pgbouncer-and-postgresql-in-docker-compose https://hub.docker.com/r/bitnami/pgbouncer/ https://www.pgbouncer.org/config.html ","date":"2024-06-09","externalUrl":null,"permalink":"/zh-tw/database/pgbouncer/","section":"è³‡æ–™åº« é¦–é ","summary":"ä»¥ PgBouncer è§£æ±º Django å¾Œç«¯ DB connection éå¤šçš„å•é¡Œ","title":"PgBouncer: è¼•é‡ Postgres é€£æ¥æ± ","type":"database"},{"content":"","date":"2024-06-09","externalUrl":null,"permalink":"/zh-tw/tags/zh-tw/","section":"æ¨™ç±¤","summary":"","title":"Zh-Tw","type":"tags"},{"content":"","date":"2024-06-09","externalUrl":null,"permalink":"/zh-tw/tags/","section":"æ¨™ç±¤","summary":"","title":"æ¨™ç±¤","type":"tags"},{"content":"","date":"2024-06-09","externalUrl":null,"permalink":"/tags/en/","section":"tags","summary":"","title":"En","type":"tags"},{"content":" å‰è¨€ # ç›®å‰æ“”ä»»ç¨‹å¼è¨­è¨ˆï¼ˆä¸€ï¼‰åŠ©æ•™ å› ç‚ºå¯¦ç¿’èª²æ•™å®¤é›»è…¦çš„ IP éƒ½æ˜¯å…§ç¶² IP ç„¶å¾Œç³»ä¸Š Online Judge çš„ VM åªçµ¦å­¸æ ¡ IP ( 140.116.xxx.xxx ) é€²ä¾† æ²’æœ‰é–‹æ”¾å…§ç¶² IP é€²ä¾† åŸæœ¬ç”¨ ngrok ä¾†åš NAT ä½†æ˜¯ ngrok çš„å…è²»ç‰ˆæ¯å€‹ tunnel åªçµ¦ 40 äººç”¨ ä¿®èª²äººæ•¸æœ‰ 240 å¤šå€‹äºº ä¸å¤ªå¯èƒ½é–‹ 6 å€‹ tunnel å†åˆ†é…å­¸ç”Ÿé€£ç·š\né€™æ¨£éå¸¸éº»ç…©\u0026hellip; è€Œä¸”æ¯æ¬¡ ngrok é‡å•Ÿéƒ½æœƒæ›ä¸€å€‹æ–°çš„ domain é€™æ¨£å­¸ç”Ÿè¦é‡æ–°è¨­å®šé€£ç·šçš„ domain ngrok çš„æ›¿ä»£æ–¹æ¡ˆ # Cloudflare Tunnel Cloudflare Tunnel Free Plan çš„ : dns setup no connection limitation ( name server è¦åœ¨ Cloudflare ä¸Š ) å…¶ä»–èˆ‡ ngrok ä¸€æ¨£ cloudflare tunnel æ–‡ä»¶ # https://developers.cloudflare.com/pages/how-to/preview-with-cloudflare-tunnel/\nInstalltion # å¯ä»¥åˆ° Cloudflare Tunnel Downloadsæ‰¾é©åˆè‡ªå·±çš„ OS çš„ç‰ˆæœ¬ Mac OS :\nbrew install cloudflare/cloudflare/cloudflared Linux :\nwget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb sudo apt install ./cloudflared-linux-amd64.deb Normal Usage # å¦‚æœæ˜¯ ngrok :\nngrok http 8888 å¦‚æœæ˜¯ cloudflare tunnel :\ncloudflared tunnel --url http://localhost:8888 å°±å¯ä»¥å¾éš¨æ©Ÿç”Ÿæˆ URL é€£ç·šåˆ° localhost:8888 äº† ä½†æ˜¯å¦‚æœè¦è‡ªå·±è¨­å®š domain çš„è©±ï¼Œå°±è¦é¡å¤–è¨­å®š cloudflared çš„ config file Advanced Usage # åœ¨è¨­å®š domain å‰ï¼Œè¦ç¢ºèª domain çš„ Nameserver æ˜¯è¨­å®šåœ¨ Cloudflare ä¸Š è¨­å®šå®Œå¾Œï¼šå¯ä»¥å¾è‡ªå·±çš„ DNS é€£åˆ° server çš„ localhost:\u0026lt;port\u0026gt;\næ¥è‘—å¯ä»¥ä½¿ç”¨ command line ä¾†è¨­å®š cloudflared çš„ config file Authentication cloudflared tunnel login Create a Tunnel cloudflared create \u0026lt;tunnel_name\u0026gt; cloudflared tunnel route dns \u0026lt;tunnel_name\u0026gt; \u0026lt;domain_name\u0026gt; æœƒåœ¨ ~/.cloudflared/ ç”¢ç”Ÿä¸€å€‹ \u0026lt;tunnel_id\u0026gt;.json å¯ä»¥åœ¨ cloudflare dashboard ä¸­ Access çš„ tunnel çœ‹åˆ° \u0026lt;tunnel_id\u0026gt; åœ¨ DNS çš„ records çœ‹åˆ°åŠ ä¸Šçš„ \u0026lt;domain_name\u0026gt; content çš„éƒ¨åˆ†æ˜¯ \u0026lt;tunnel_id\u0026gt;.cfargotunnel.com configuation # cloudflare tunnel : setup configuration file\næ¥è‘—åœ¨ ~/.cloudflared/ ä¸­åŠ ä¸Š config.yaml tunnel: \u0026lt;tunnel-id\u0026gt; credentials-file: /path/to/\u0026lt;tunnel-id\u0026gt;.json # ä¹‹å‰ç”¢ç”Ÿçš„ json file åœ¨ ~/.cloudflared/ ä¸­ ingress: - hostname: \u0026lt;domain-name\u0026gt; service: http://localhost:\u0026lt;port1\u0026gt; - service: http_status:404 åœ¨è¨­å®š config.yaml çš„æ™‚å€™ï¼Œå¯ä»¥è¨­å®šå¤šå€‹ ingress é€™æ¨£å°±å¯ä»¥æŠŠä¸åŒçš„ port å°æ‡‰åˆ°ä¸åŒçš„ domain ä¾‹å¦‚ :\nlocalhost:8888 å°æ‡‰åˆ° service1.domain.com localhost:9999 å°æ‡‰åˆ° service2.domain.com Start Tunnel # å•Ÿå‹• tunnel :\ncloudflared tunnel run \u0026lt;tunnel_name\u0026gt; å¯ä»¥é€é tmux è®“ tunnel åœ¨èƒŒæ™¯åŸ·è¡Œ å¯ä»¥åƒè€ƒ tmux å¸¸ç”¨æŒ‡ä»¤ !\nä½¿ç”¨ tmux :\ntmux new -s cloudflare-tunnel ç„¶å¾Œåœ¨ tmux ä¸­åŸ·è¡Œ cloudflared tunnel run \u0026lt;tunnel_name\u0026gt; æŒ‰ä¸‹ ctrl + b å†æŒ‰ d å°±å¯ä»¥é›¢é–‹ tmux å¦‚æœè¦å›åˆ° tmux ä¸­çš„è©±ï¼Œå¯ä»¥ç”¨ tmux attach -t cloudflare-tunnel Command list # cloudflared tunnel login cloudflared create \u0026lt;tunnel_name\u0026gt; cloudflared tunnel route dns \u0026lt;tunnel_name\u0026gt; \u0026lt;domain_name\u0026gt; æœƒåœ¨ ~/.cloudflared/ ç”¢ç”Ÿä¸€å€‹ \u0026lt;tunnel_id\u0026gt;.json ä¸¦åœ¨é€™é‚ŠåŠ ä¸Š config.yaml åœ¨ cloudflare dashboard ä¸­ Access çš„ tunnel å¯ä»¥çœ‹åˆ° \u0026lt;tunnel_id\u0026gt;\ncloudflared tunnel run \u0026lt;tunnel_name\u0026gt; Reference # Cloudflare Tunnel : Overview Cloudflare Tunnel : Downloads Cloudflare Tunnel : Setup configuration file Cloudflare Tunnel : Ingress ","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/note/cloudflare-tunnel/","section":"Note","summary":"è¨­å®š Cloudflare Tunnel ä¾†ç©¿é€å…§ç¶² IPï¼ŒNgrok çš„æ›¿ä»£æ–¹æ¡ˆ","title":"Cloudflare Tunnel","type":"note"},{"content":" tmux/tmux tmux source code C 33479 2049 å‰è¨€ # å› ç‚ºç³»ä¸Šé–‹çµ¦ç¨‹å¼è¨­è¨ˆä¸€çš„ VM éœ€è¦è¨­å®š cloudflare tunnel æ‰èƒ½é€£ç·š ( æœ‰èˆˆè¶£å¯ä»¥çœ‹ æˆ‘çš„ cloudflare-tunnel è¨­å®šéç¨‹ ) æ‰€ä»¥æƒ³ç”¨ tmux ä¾†è®“ tunnel ä¸€ç›´åœ¨èƒŒæ™¯åŸ·è¡Œ ä¹Ÿå¯ä»¥éš¨æ™‚æŸ¥çœ‹ tunnel çš„ç‹€æ…‹ tmux æ¦‚å¿µ # tmux å¯ä»¥åˆ†æˆä¸‰å€‹å±¤ç´š Session Window Pane Session # Session æ˜¯ tmux çš„æœ€é«˜å±¤ç´š å¯ä»¥æƒ³åƒæˆä¸€å€‹ tmux çš„å·¥ä½œå€ ä¸€å€‹ Session å¯ä»¥æœ‰å¤šå€‹ Window ( åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ session )\nWindow # Window æ˜¯ tmux çš„ç¬¬äºŒå±¤ å¯ä»¥æƒ³åƒæˆä¸€å€‹ Session ä¸­çš„ä¸åŒè¦–çª— ä¸€å€‹ Window å¯ä»¥æœ‰å¤šå€‹ Pane Pane # Pane æ˜¯ tmux çš„ç¬¬ä¸‰å±¤ å¯ä»¥æƒ³åƒæˆä¸€å€‹ Window ä¸­çš„ä¸åŒåˆ†å‰²ç•«é¢ ä¸€å€‹ Pane åªèƒ½æœ‰ä¸€å€‹ Shell åŒä¸€å€‹ Window ä¸­çš„ Pane å¯ä»¥è¢«æ°´å¹³æˆ–å‚ç›´åˆ†å‰² ( æ‰€ä»¥å¯ä»¥è¢«åˆ‡æˆé€™æ¨£ )\ntmux å¸¸ç”¨æŒ‡ä»¤ # å¦‚æœæ˜¯åœ¨ tmux ä¸­ï¼Œå¯ä»¥ç›´æ¥æŒ‰ Ctrl + b ä¾†é€²å…¥ tmux çš„æŒ‡ä»¤æ¨¡å¼ ( åƒæ˜¯åœ¨ vim ä¸­æŒ‰ : ä¸€æ¨£ ) Session # å¾ command line : tmux new -s \u0026lt;session-name\u0026gt; : æ–°å¢ä¸€å€‹åç‚º \u0026lt;session-name\u0026gt; çš„ session tmux ls : åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ session tmux attach -t \u0026lt;session-name\u0026gt; : é€£æ¥åˆ°åç‚º \u0026lt;session-name\u0026gt; çš„ session åœ¨ tmux ä¸­ : Ctrl + b + d : é›¢é–‹ tmux session ä¸¦ä¸æœƒæŠŠ session é—œæ‰ï¼Œåªæ˜¯é›¢é–‹è€Œå·² æ‰€ä»¥åœ¨ session ä¸­çš„ç¨‹å¼é‚„æ˜¯æœƒç¹¼çºŒåŸ·è¡Œ !!! Ctrl + b + s : åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ session Window # Ctrl + b + c : æ–°å¢ä¸€å€‹ window Ctrl + b + n : åˆ‡æ›åˆ°ä¸‹ä¸€å€‹ window Ctrl + b + p : åˆ‡æ›åˆ°ä¸Šä¸€å€‹ window Ctrl + b + w : åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ window Pane # pane åˆ†å‰²:\nCtrl + b + % : å‚ç›´åˆ†å‰²ç•«é¢ ( å·¦å³åˆ†å‰² ) Ctrl + b + \u0026quot; : æ°´å¹³åˆ†å‰²ç•«é¢ ( ä¸Šä¸‹åˆ†å‰² ) Ctrl + b + x : é—œé–‰ç›®å‰çš„ pane èª¿æ•´ pane çš„å¤§å°: å¯ä»¥å…ˆæŒ‰ Ctrl + b å†æŒ‰ : é€²å…¥ tmux çš„æŒ‡ä»¤æ¨¡å¼ ç„¶å¾Œè¼¸å…¥ resize-pane ( å¯ä»¥æŒ‰ Tab ä¾†è‡ªå‹•è£œå…¨ ) å†åŠ ä¸Š -U ( ä¸Š ) -D ( ä¸‹ ) -L ( å·¦ ) -R ( å³ ) å†åŠ ä¸Šæ•¸å­—ä¾†èª¿æ•´ pane çš„å¤§å° åœ¨ pane ä¹‹é–“åˆ‡æ›:\nCtrl + b + \u0026lt;arrow-key\u0026gt; : åˆ‡æ›åˆ°æŒ‡å®šçš„ pane Ctrl + b + q : æœƒåœ¨ pane ä¸Šé¡¯ç¤ºä¸€å€‹æ•¸å­— Ctrl + b + q + \u0026lt;number\u0026gt; : åˆ‡æ›åˆ°æŒ‡å®šçš„ pane ","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/note/tmux/","section":"Note","summary":"å¸¸ç”¨ tmux æŒ‡ä»¤ Cheat Sheet","title":"å¸¸ç”¨ tmux æŒ‡ä»¤","type":"note"},{"content":"","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/tags/aws/","section":"æ¨™ç±¤","summary":"","title":"AWS","type":"tags"},{"content":"","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/tags/backend/","section":"æ¨™ç±¤","summary":"","title":"Backend","type":"tags"},{"content":"","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/tags/fastapi/","section":"æ¨™ç±¤","summary":"","title":"FastAPI","type":"tags"},{"content":" ä»‹ç´¹ # åœ¨ FastAPI æ¡†æ¶ä¸­ä½¿ç”¨ moto æ¨¡æ“¬ boto3ã€‚ boto3 : AWS çš„ Python SDK moto : ç”¨æ–¼æ¨¡æ“¬ AWS çš„ Python SDK çš„ Package server mode ç”¨æ–¼æ¨¡æ“¬ AWS æœå‹™ mock_aws decorator ç”¨æ–¼æ¨¡æ“¬ AWS æ“ä½œ FastAPI æä¾› TestClient : åƒè€ƒ èˆ‡ pytest ä¸€èµ·é€²è¡Œæ¸¬è©¦ æ‡‰ç”¨ç¯„ä¾‹ # åœ¨ FastAPI ä¸­ï¼Œå¸¸è¦‹æ¨¡å¼æ˜¯ä½¿ç”¨ Depends é€²è¡Œä¾è³´æ³¨å…¥\né †ä¾¿èªªä¸€ä¸‹ï¼ŒDepends å¯ä»¥æ˜¯éè¿´çš„ é€™è¡¨ç¤ºï¼ŒA Depends å¯ä»¥ä¾è³´æ–¼ B Depends å’Œ C Depends\nç¯„ä¾‹: endpoint.py\nfrom fastapi import Depends @FileV1Router.post( path=\u0026#34;/files\u0026#34;, response_model=v1_schemas.FilePresignedUrlResponse, ) async def create_file_endpoint( file: v1_schemas.FileCreate, file_service: FileService = Depends(get_file_service), user_id: str = Depends(get_current_user), ): file_response = file_service.generate_presigned_upload_url(file, user_id) return file_response deps.py\ndef get_file_service( # sqlalchemy `Session` å¯¦ä¾‹ db: Session = Depends(get_db), # `boto3.client(\u0026#39;s3\u0026#39;)` å¯¦ä¾‹ s3_client=Depends(get_s3_client), ): # ä½¿ç”¨ ä¾è³´æ³¨å…¥ `FileService` å¯¦ä¾‹ return FileService( db, s3_client, ) ä½¿ç”¨ Database ç¯„ä¾‹çš„ dependency_overrides # åœ¨æ¸¬è©¦æ™‚ï¼Œæˆ‘å€‘å¯èƒ½æƒ³è¦è¦†è“‹ get_db ä¾è³´ ä½¿ç”¨æˆ‘å€‘çš„æ¸¬è©¦è³‡æ–™åº«ï¼Œå¦‚å…§å­˜ä¸­çš„ sqliteã€‚\nå¹¸é‹çš„æ˜¯ï¼ŒFastAPI æä¾›äº† FastAPI: Override Testing Dependencies çš„å·¥å…·ï¼\nç¹¼çºŒå‰é¢çš„ç¨‹å¼ã€‚\ndef override_get_db(): try: # ä½¿ç”¨ mock DB çš„ sqlalchemy `sessionmaker` db = TestingSessionLocal() yield db finally: db.close() # app : ä¾†è‡ªä¸»æ‡‰ç”¨ç¨‹å¼çš„åŸå§‹ FastAPI å¯¦ä¾‹ app.dependency_overrides[get_db] = override_get_db testClient = TestClient(app) è¨­ç½® moto # moto : ä¸€å€‹æ¨¡æ“¬åŸºæ–¼ AWS åŸºç¤è¨­æ–½æ¸¬è©¦çš„ package ã€‚\nMoto: Server Mode # Moto: Server Mode\nMoto ä¹Ÿæä¾›ç¨ç«‹çš„ Server Modeã€‚ï¼ˆç”¨æ–¼æ¨¡æ“¬ AWS æœå‹™ï¼‰ æˆ‘å»ºè­°ä½¿ç”¨ Docker è¨­ç½® moto-server\ndocker run --rm -p 5000:5000 --name moto motoserver/moto:latest æˆ–ä½¿ç”¨ Docker-Compose å¦‚æœæœ‰å…¶ä»–åŸºç¤è¨­æ–½ä¾è³´ã€‚\nversion: \u0026#39;3.7\u0026#39; services: moto: image: motoserver/moto:4.1.13 ports: - \u0026#34;5000:5000\u0026#34; environment: - MOTO_PORT=5000 docker compose up moto -d å„€è¡¨æ¿ Moto ä¼ºæœå™¨æä¾›ä¸€å€‹å„€è¡¨æ¿ï¼Œç”¨æ–¼ç›£æ§ç•¶å‰æœå‹™ç‹€æ…‹ã€‚\nhttp://localhost:5000/moto-api/ æ¨è–¦ç”¨æ³•èˆ‡ç¯„ä¾‹ï¼ˆä¾†è‡ªå®˜æ–¹æ–‡æª”ï¼‰ # æ¨è–¦ç”¨æ³•\nç¢ºä¿åœ¨æ¸¬è©¦ç¯„åœå…§è¨­ç½®è™›æ“¬ç’°å¢ƒã€‚\nos.environ[\u0026#34;AWS_ACCESS_KEY_ID\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SECRET_ACCESS_KEY\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SECURITY_TOKEN\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SESSION_TOKEN\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_DEFAULT_REGION\u0026#34;] = \u0026#34;us-east-1\u0026#34; os.environ[\u0026#34;MOTO_S3_CUSTOM_ENDPOINTS\u0026#34;] = \u0026#34;http://127.0.0.1:3000\u0026#34; ä½¿ç”¨ Pytest çš„ç¯„ä¾‹\n@pytest.fixture(scope=\u0026#34;function\u0026#34;) def aws_credentials(): \u0026#34;\u0026#34;\u0026#34;Moto çš„æ¨¡æ“¬ AWS æ†‘è­‰ã€‚\u0026#34;\u0026#34;\u0026#34; os.environ[\u0026#34;AWS_ACCESS_KEY_ID\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SECRET_ACCESS_KEY\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SECURITY_TOKEN\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SESSION_TOKEN\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_DEFAULT_REGION\u0026#34;] = \u0026#34;us-east-1\u0026#34; @pytest.fixture(scope=\u0026#34;function\u0026#34;) def aws(aws_credentials): with mock_aws(): yield boto3.client(\u0026#34;s3\u0026#34;, region_name=\u0026#34;us-east-1\u0026#34;) @pytest.fixture def create_bucket1(aws): boto3.client(\u0026#34;s3\u0026#34;).create_bucket(Bucket=\u0026#34;b1\u0026#34;) @pytest.fixture def create_bucket2(aws): boto3.client(\u0026#34;s3\u0026#34;).create_bucket(Bucket=\u0026#34;b2\u0026#34;) def test_s3_directly(aws): s3.create_bucket(Bucket=\u0026#34;somebucket\u0026#34;) result = s3.list_buckets() assert len(result[\u0026#34;Buckets\u0026#34;]) == 1 def test_bucket_creation(create_bucket1, create_bucket2): buckets = boto3.client(\u0026#34;s3\u0026#34;).list_buckets()[\u0026#34;Buckets\u0026#34;] assert len(result[\u0026#34;Buckets\u0026#34;]) == 2 ä½¿ç”¨ dependency_overrides è¦†è“‹ s3_client ä¾è³´ # ä½¿ç”¨ moto å’Œ dependency_overrides çš„åŸºæœ¬ç”¨æ³• æˆ‘å€‘å¯ä»¥ç”¨ moto æ¨¡æ“¬ S3 å®¢æˆ¶ç«¯ override get_s3_client ä¾è³´~\ndef override_get_s3_client(): os.environ[\u0026#34;AWS_ACCESS_KEY_ID\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SECRET_ACCESS_KEY\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SECURITY_TOKEN\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_SESSION_TOKEN\u0026#34;] = \u0026#34;testing\u0026#34; os.environ[\u0026#34;AWS_DEFAULT_REGION\u0026#34;] = \u0026#34;us-east-1\u0026#34; os.environ[\u0026#34;MOTO_S3_CUSTOM_ENDPOINTS\u0026#34;] = \u0026#34;http://127.0.0.1:3000\u0026#34; try: with mock_aws(): conn = boto3.resource(\u0026#34;s3\u0026#34;) conn.create_bucket(Bucket=file_settings.USER_BUCKET_NAME) s3_client = boto3.client( \u0026#34;s3\u0026#34;, region_name=\u0026#34;us-east-1\u0026#34;, endpoint_url=\u0026#34;http://127.0.0.1:3000\u0026#34; ) yield s3_client finally: pass # app : ä¾†è‡ªä¸»æ‡‰ç”¨ç¨‹å¼çš„åŸå§‹ FastAPI å¯¦ä¾‹ app.dependency_overrides[get_s3_client] = override_get_s3_client testClient = TestClient(app) ä¸¦ä¸”ï¼Œä¸è¦å¿˜è¨˜ç‚º pytest å‡½æ•¸æ·»åŠ  mock_aws\nfrom moto import mock_aws from test.client import testClient @mock_aws def test_create_file(test_user_setup_teardown): valid_user_data, response = test_user_setup_teardown response = testClient.post( \u0026#34;/files\u0026#34;, headers={ \u0026#34;Authorization\u0026#34;: \u0026#34;{token_type} {token}\u0026#34;.format( token_type=response.json()[\u0026#34;token_type\u0026#34;], token=response.json()[\u0026#34;access_token\u0026#34;], ) }, json={\u0026#34;filename\u0026#34;: \u0026#34;test-file\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;This is a test file\u0026#34;}, ) # ... ","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/backend/k8s-fastapi-mock-boto3-s3-with-moto/","section":"å¾Œç«¯é¦–é ","summary":"FastAPI æ¸¬è©¦: ä½¿ç”¨ Moto æ¨¡æ“¬ AWS S3 Boto3","title":"FastAPI: ä½¿ç”¨ Moto æ¨¡æ“¬ S3","type":"backend"},{"content":"","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/tags/testing/","section":"æ¨™ç±¤","summary":"","title":"Testing","type":"tags"},{"content":"","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/tags/devops/","section":"æ¨™ç±¤","summary":"","title":"Devops","type":"tags"},{"content":" Kubernetes Cheat Sheet: æå– ConfigMap æˆ– Secret åˆ° .env æ–‡ä»¶ # å¾ ConfigMap è¼¸å‡º # kubectl get configmap my-map --output json | jq \u0026#39;.data\u0026#39; | jq -r \u0026#39;to_entries | map(.key + \u0026#34;=\u0026#34; + (.value)) | .[]\u0026#39; \u0026gt;\u0026gt; .env èªªæ˜:\nkubectl get configmap my-map --output json | # å–å‡º data éƒ¨åˆ†ã€‚ jq \u0026#39;.data\u0026#39; | # å°‡æ¯å€‹ \u0026#34;key\u0026#34;: \u0026#34;value\u0026#34; å°æ›¿æ›ç‚º \u0026#34;key=value\u0026#34; jq -r \u0026#39;to_entries | map(.key + \u0026#34;=\u0026#34; + (.value)) | .[]\u0026#39; \u0026gt;\u0026gt; .env å¾ Secret è¼¸å‡º # kubectl get secret my-secret --output json | jq \u0026#39;.data\u0026#39; | jq \u0026#39;map_values(@base64d)\u0026#39; | jq -r \u0026#39;to_entries | map(.key + \u0026#34;=\u0026#34; + (.value)) | .[]\u0026#39; \u0026gt;\u0026gt; .env èªªæ˜:\nkubectl get secret my-secret --output json | # å–å‡º data éƒ¨åˆ†ã€‚ jq \u0026#39;.data\u0026#39; | # base64 decode æ¯å€‹éµçš„å€¼ã€‚ jq \u0026#39;map_values(@base64d)\u0026#39; | # å°‡æ¯å€‹ \u0026#34;key\u0026#34;: \u0026#34;value\u0026#34; å°æ›¿æ›ç‚º \u0026#34;key=value\u0026#34; jq -r \u0026#39;to_entries | map(.key + \u0026#34;=\u0026#34; + (.value)) | .[]\u0026#39; \u0026gt;\u0026gt; .env å¾ helm è¼¸å‡º # # ä½¿ç”¨ `awk`ï¼šæˆ‘å€‘å¾åŒ…å« `configmap` çš„ row é–‹å§‹è¼¸å‡ºï¼Œç›´åˆ°ç¬¬ä¸€å€‹ç©ºè¡Œã€‚ awk \u0026#39;{if ($0 ~ /^configmap:$/) {triggered=1;}if (triggered) {print; if ($0 ~ /^$/) { exit;}}}\u0026#39; \u0026#34;./project/values.yaml\u0026#34; | # åªä¿ç•™åŒ…å«æˆ‘å€‘ config grep \u0026#39;^ \u0026#39; | # å°‡ key: value è½‰æ›ç‚º key=value sed \u0026#39;s/ //;s/: /=/\u0026#39; \u0026gt;\u0026gt; .env åƒè€ƒ # https://www.jujens.eu/posts/en/2021/Mar/21/kubectl-cfg-to-env/ ","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/devops/k8s-extract-configmap-or-secret-to-env-file/","section":"DevOps é¦–é ","summary":"Kubernetes Cheat Sheet: å°‡ ConfigMap æˆ– Secret è¼¸å‡ºè‡³ .env æ ¼å¼","title":"k8s: å°‡ ConfigMap æˆ– Secret è¼¸å‡ºè‡³ .env æ ¼å¼","type":"devops"},{"content":"","date":"2024-05-28","externalUrl":null,"permalink":"/zh-tw/tags/kubernetes/","section":"æ¨™ç±¤","summary":"","title":"Kubernetes","type":"tags"},{"content":"","date":"2024-05-21","externalUrl":"/zh-tw/backend/","permalink":"/zh-tw/categories/backend/","section":"åˆ†é¡é¦–é ","summary":"Backend ç›¸é—œæ–‡ç« ","title":"Backend","type":"categories"},{"content":"","date":"2024-05-21","externalUrl":"/zh-tw/note/","permalink":"/zh-tw/categories/note/","section":"åˆ†é¡é¦–é ","summary":"ç­†è¨˜ç›¸é—œæ–‡ç« ","title":"Note","type":"categories"},{"content":"","date":"2024-05-21","externalUrl":"/zh-tw/devops/","permalink":"/zh-tw/categories/devops/","section":"åˆ†é¡é¦–é ","summary":"DevOps ç›¸é—œæ–‡ç« ","title":"DevOps","type":"categories"},{"content":"","date":"2024-05-21","externalUrl":"/zh-tw/database/","permalink":"/zh-tw/categories/database/","section":"åˆ†é¡é¦–é ","summary":"Database ç›¸é—œæ–‡ç« ","title":"Database","type":"categories"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/note/","section":"Note","summary":"","title":"Note","type":"note"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/devops/","section":"DevOps é¦–é ","summary":"","title":"DevOps é¦–é ","type":"devops"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/backend/","section":"å¾Œç«¯é¦–é ","summary":"","title":"å¾Œç«¯é¦–é ","type":"backend"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/other/","section":"å¾Œç«¯é¦–é ","summary":"","title":"å¾Œç«¯é¦–é ","type":"other"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/sample/","section":"å¾Œç«¯é¦–é ","summary":"","title":"å¾Œç«¯é¦–é ","type":"sample"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/database/","section":"è³‡æ–™åº« é¦–é ","summary":"","title":"è³‡æ–™åº« é¦–é ","type":"database"},{"content":" æœ€è¿‘çš„æ–‡ç«  Backend \u0026#8599; \u0026#8598; 2024-05-21 Backend ç›¸é—œæ–‡ç«  Note \u0026#8599; \u0026#8598; 2024-05-21 ç­†è¨˜ç›¸é—œæ–‡ç«  DevOps \u0026#8599; \u0026#8598; 2024-05-21 DevOps ç›¸é—œæ–‡ç«  Database \u0026#8599; \u0026#8598; 2024-05-21 Database ç›¸é—œæ–‡ç«  ","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/categories/","section":"åˆ†é¡é¦–é ","summary":"æœ€è¿‘çš„æ–‡ç«  Backend \u0026#8599; \u0026#8598; 2024-05-21 Backend ç›¸é—œæ–‡ç«  Note \u0026#8599; \u0026#8598; 2024-05-21 ç­†è¨˜ç›¸é—œæ–‡ç«  DevOps \u0026#8599; \u0026#8598; 2024-05-21 DevOps ç›¸","title":"åˆ†é¡é¦–é ","type":"categories"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/tags/new-article/","section":"æ¨™ç±¤","summary":"","title":"New-Article","type":"tags"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/sample/test-article/","section":"å¾Œç«¯é¦–é ","summary":"","title":"Test Article","type":"sample"},{"content":"","date":"2024-05-21","externalUrl":null,"permalink":"/zh-tw/other/test-article/","section":"å¾Œç«¯é¦–é ","summary":"","title":"å…¶ä»–æ¸¬è©¦æ–‡ç« \"","type":"other"},{"content":"","date":"2024-05-18","externalUrl":null,"permalink":"/zh-tw/","section":"æ­¡è¿ä¾†åˆ° Blowfish! ğŸ‰","summary":"","title":"æ­¡è¿ä¾†åˆ° Blowfish! ğŸ‰","type":"page"},{"content":" æˆå¤§è³‡å·¥å¤§ä¸€ä¸Šç´€éŒ„ # å…¶å¯¦é€™ç¯‡æ–‡ç« æ˜¯åœ¨å¤§ä¸€å‡å¤§äºŒæš‘å‡å¯«çš„ ä¸»è¦æ˜¯ç¿»è¡Œäº‹æ›†æ•´ç†ä¸€ä¸‹æˆ‘åˆ°åº•å¤§ä¸€ä¸Šæœ‰åšä»€éº¼ å…¶å¯¦æˆ‘å¤§ä¸€ä¸Šçš„é‡å¿ƒä¸¦ä¸æ˜¯åœ¨å­¸ç§‘ è€Œæ˜¯åœ¨æ¥æ¡ˆã€ç¤¾åœ˜ã€åå¯¦ä½œçš„èª²ç¨‹\né‚„æœ‰æˆ‘çœŸçš„æœ‰èˆˆè¶£çš„èª²ç¨‹ä¸Š ( æ¨¡ç³ŠåŒ–çš„è¡Œäº‹æ›† )\nä¸éåˆ°æœŸæœ«ç™¼ç¾å¥½åƒæ¥å¤ªå¤šå¤–å‹™ã„Œ æœ‰é»å¿™ä¸éä¾†ï¼Œå¤§æ¦‚ä¸€é€±å°±æœ‰å¥½å¹¾å€‹ Deadline å¯èƒ½æ˜¯å› ç‚ºé«˜ä¸­å¾ŒæœŸå°æ–¼å­¸ç§‘ç–²ä¹ è¦ºå¾—å­¸åˆ°çš„çŸ¥è­˜éƒ½ç„¡æ³•é‹ç”¨åœ¨æœªä¾†çš„å ´æ™¯ å¥½åƒå­¸é€™äº›æ²’ä»€éº¼æ„ç¾©ï¼ˆï¼Ÿ æ¯”è¼ƒå¤šéƒ½æ˜¯ç‚ºäº†ç•¶ä¸‹çš„åˆ†æ•¸è€Œç¡¬èƒŒèµ·ä¾†çš„ é€™ä¹Ÿæ˜¯æˆ‘æ¯”è¼ƒä¸æƒ³ç®¡å­¸ç§‘çš„åŸå›  å¤§ä¸€ä¸Šåˆ°åº•åšäº†ä»€éº¼ # ä¸»è¦æœƒä»¥é€™å¹¾å€‹æ–¹å‘ä¾†åˆ†é¡ï¼š\nä½œæ¥­/æ¥æ¡ˆ ç¤¾åœ˜ æ¯”è³½ ç±Œè¾¦HSPC èª²ç¨‹ ä½œæ¥­/æ¥æ¡ˆ # å› ç‚ºä¸æƒ³èŠ±å¿ƒåŠ›å¿µä¸€äº›åªç‚ºäº†è€ƒè©¦åˆ†æ•¸çš„å­¸ç§‘ æ‰€ä»¥æˆ‘å°±æŠŠæ™‚é–“èŠ±åœ¨ä½œæ¥­å’Œæ¥æ¡ˆä¸Š ç›¡é‡å¤šç´¯ç©ä¸€äº›å¯¦ä½œç¶“é©— ä½œæ¥­ # å…¶å¯¦åœ¨é«˜ä¸‰ä¸‹æˆ‘å°±æœ‰é–‹å§‹åœ¨æ¥å¤§å­¸ DSA ç›¸é—œçš„ä½œæ¥­äº† ä¸»è¦æ˜¯ç•¶ä½œç·´åŠŸï¼Œä¹Ÿé †è®Šè³ºé»å°å¤–å¿« åœ¨ä¸Šå­¸æœŸé–“æ¥äº†ä¸å°‘å€‹ä½œæ¥­ï¼Œä¸»è¦ä¹Ÿæ˜¯å¯« C++ å¶çˆ¾æœ‰ä¸€äº›ç‰¹åˆ¥çš„ä½œæ¥­ï¼š\nç”¨ Matlab ä¾†å¯¦ä½œä¸€äº›æ¼”ç®—æ³• å¯« Scala é€™å€‹å®Œå…¨æ²’è½éçš„ functional programming language å¯« C çš„ generic function é€™ç¨®ç¬¬ä¸€æ¬¡æ¥è§¸çœŸçš„å¾ˆé›£å¼„æœƒçš„ä¸»é¡Œ æˆ–æ˜¯è¶…é›£çš„åœ–è«–é¡Œ\næ¥æ¡ˆ # å‰›å¥½åœ¨æˆå¤§äºŒæ‰‹ç‰ˆçœ‹åˆ°ä¸€å€‹å¾µç¶²é å·¥è®€ç”Ÿçš„è²¼æ–‡ å¾é«˜ä¸‰ä¸Šæ¥è§¸å‰ç«¯ï¼Œå‡å¤§ä¸€æš‘å‡ä¹Ÿæœ‰å¯«éä¸€äº›å¾Œç«¯ CRUD å°åŸºæœ¬çš„å‰å¾Œç«¯æ‡‰è©²éƒ½æœ‰ä¸€äº›æ¦‚å¿µ å°±å»æ‡‰å¾µçœ‹çœ‹ ï¼ˆ ç•¶æ™‚çš„æ‹›å‹Ÿè²¼æ–‡ ï¼‰\næ¡ˆä¸»æ˜¯ä¹Ÿæ˜¯æˆå¤§çš„å¤§å­¸é•· ç¶²ç«™åŸæœ¬æ˜¯ç”±å¤–åŒ…å…¬å¸å®Œæˆçš„ å¾Œä¾†ç”±å¦ä¸€ä½å­¸é•·åœ¨å¹«å¿™ä¿®æ”¹ã€æ–°å¢åŠŸèƒ½ æ•´å€‹ç¶²ç«™çš„ tech stack æ˜¯ï¼š\nHosting : Hostinger ( æˆ‘è‡ªå·±æ²’è½éï¼Œä¸éç”¨èµ·ä¾†å»¶é²æœ‰æ™‚å€™æœ‰é»åš´é‡ ) Frontend : jQuery raw HTML/CSS/JS Backend : PHP: Slim framework ( é‚£æ™‚å€™åªçŸ¥é“ Laravelï¼Œæ²’è½é Slim ) MySQL Structure : MVC Version Control : Git Self hosted Git server: Gitea CI/CD : null (?) ç¶²é çš„ç€è¦½äººæ•¸ä¸é«˜ï¼Œä¸éæ•´é«”çš„ç¶²é æ¶æ§‹ä¹Ÿè »è¤‡é›œçš„ï¼ˆ æœ‰äº› Code ä¸å¤ªå¥½çœ‹ï¼Œè »é›£æ”¹çš„ ï¼‰ ä¸éæœ‰è »å¤š features æ¡ˆä¸»æƒ³è¦æ–°å¢ä¿®æ”¹çš„ ä¸»è¦æ˜¯è·Ÿä¿éšªæœ‰é—œçš„ç¶²ç«™ç³»çµ± Features ï¼š\nç¶²é å‰å° ä¿éšªè¨ˆç®— ä¿éšªæ¨è–¦ ä¿éšªè³‡è¨Š æ–‡ç« ç³»çµ± ç¶²é å¾Œå° æœƒå“¡ç³»çµ±ç®¡ç† ä¿éšª CRUS æ–‡ç«  CRUD è² è²¬çš„ä»»å‹™ï¼š\nä¸€äº›å° bug fixï¼š æœ‰äº›è³‡æ–™è¦å…ˆæ’åºæ‰å†é€åˆ°å‰ç«¯ æ‰¾åˆ°ç›¸å°æ‡‰çš„ SQL queryï¼ŒåŠ ä¸Š ORDER BY... ä¸€äº›å‰ç«¯ RWD è·‘ç‰ˆä¿®æ­£ éœ€è¦ä¸€ç›´è·Ÿæ¡ˆä¸»ä¾†å›ç¢ºèªç‰ˆå‹ æ–°å¢å¾Œå°æ–‡ç«  wsywig ç·¨è¼¯å™¨ï¼š wsywig ç·¨è¼¯å™¨ï¼šé¡ä¼¼ Google doc ï¼Œå¯ä»¥åœ¨ç¶²é ä¸Šç›´æ¥ç·¨è¼¯æ–‡ç« çš„æ®µè½ã€å¤§å°ã€é¡è‰²ã€åŠ åœ–ç‰‡\u0026hellip;çš„å·¥å…· åŸæœ¬çš„æ–‡ç« ç³»çµ±åªæœ‰å–®ç´”ä¸€å€‹ textareaï¼Œæ²’æœ‰ wsywig ç·¨è¼¯å™¨ å¾Œä¾†ç”¨ quill.js é€™å€‹é–‹æºçš„ js library å¯¦ä½œ ä¸€é–‹å§‹æ‰¾åˆ°ä»˜è²»çš„ froala ï¼Œç•¶æ™‚æ²’æœ‰æŠŠæ–‡ä»¶çœ‹æ¸…æ¥šï¼Œä»¥ç‚ºæ˜¯å¯ä»¥å…è²»è©¦ç”¨çš„ï¼Œå¾Œä¾†æ‰ç™¼ç¾æ˜¯ä»˜è²»çš„ å¾ˆå¤šå‰ç«¯çš„ä¿®æ­£ï¼š ä¸€äº› RWD çš„è·‘ç‰ˆ ä¸€äº›å‰ç«¯çš„ UI/UX èª¿æ•´ ä¸€äº›å‰ç«¯çš„åŠŸèƒ½æ–°å¢ é‡åˆ°å„ç¨® js çš„å‘ å› ç‚ºæ²’æœ‰ç”¨ç¾åœ¨å‰ç«¯ framework ï¼Œæ•´å€‹çš„å‰ç«¯é é¢æ¶æ§‹è »äº‚çš„ï¼Œæœ‰æ™‚å€™è¦æ‰¾åˆ°å°æ‡‰çš„ css å¾ˆèŠ±æ™‚é–“ ( æŠŠ wsywig ç·¨è¼¯å™¨åˆ°å¾Œå°æ–‡ç« ç³»çµ± )\né‡åˆ°å¥‡æ€ªçš„äº‹ï¼š\nè‚‰çœ¼ + SMTP = å°ˆæ¡ˆçš„ CI/CD ğŸ¤¯ : æŠŠç•¶å‰ feature å¼„å¥½å¾Œï¼Œåœ¨ local è·‘èµ·ä¾†å†é–‹ ngrok çµ¦æ¡ˆä¸»æ¸¬ æ²’å•é¡Œå¾ŒæŠŠ code push åˆ° Gitea ä¸Š é‚£è¦æ€éº¼éƒ¨ç½²åˆ° Hostinger å‘¢ï¼Ÿ çœŸçš„æ˜¯é«”æœƒéæ‰æœƒçŸ¥é“å¥½çš„ CI/CD æœ‰å¤šé‡è¦ å…ˆæŠŠæœƒæ›´å‹•åˆ°çš„æª”æ¡ˆç”¨ SMTP å‚™ä»½ä¸‹ä¾† (æ–¹ä¾¿ä¹‹å¾Œæœ‰å•é¡Œ rollback ) å†æŠŠæœ‰æ›´æ–°çš„æª”æ¡ˆè¤‡è£½åˆ° Hostinger ä¸Š æ‰€ä»¥å°±å¾ˆå®¹æ˜“æœƒæœ‰ Hostinger ä¸Šçš„ code è·Ÿ Gitea ä¸Šçš„ code ä¸ä¸€æ¨£çš„å•é¡Œ\u0026hellip; åœ¨ backend å•†æ¥­é‚è¼¯å¯«å‰ç«¯ : é›–ç„¶æ•´é«”æ˜¯ MVC æ¶æ§‹ ä¸éæœƒçœ‹åˆ°ä¸€å€‹åƒå¾Œç«¯çš„ php æª”æ¡ˆå›å‚³ä¸€æ•´å€‹ component çš„ html ï¼Œä½†æ²’æœ‰åˆ†é›¢åˆ° view (æ‰¾äº†è¶…ä¹…æ‰çŸ¥é“è¦åœ¨å“ªè£¡æ”¹å‰ç«¯çš„æŸå€‹ compoent ) å° Github çš„æŠ—æ‹’ : ä¸çŸ¥é“ç‚ºä»€éº¼ä¸€é–‹å§‹å­¸é•·å’Œæ¡ˆä¸»ä¸æƒ³ç”¨ Github åè€Œå¤§è²»å‘¨å¼µè‡ªå·±æ¶ git server è€Œä¸”ç•¶æ™‚é‚£å€‹å­¸é•·å®¶è£¡çš„ WAN ä¸¦æ²’æœ‰ç”³è«‹å›ºå®š IP ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½è¦é€é ngrok ä¾†é€£åˆ° git server ä¹Ÿå°±æ˜¯æˆ‘è·Ÿå­¸é•·å¿…é ˆè¦åŒæ™‚åœ¨ç¾åœ¨æ‰æœ‰è¾¦æ³• push code ( è€Œä¸”æ¯æ¬¡éƒ½éœ€è¦åŠ æ–°çš„ remote ) å¦‚æœç”¨ Github å°±ä¸æœƒæœ‰é€™å€‹å•é¡Œï¼Œè€Œä¸”é‚„å¯ä»¥ç”¨ Github è·‘ä¸€äº› CI/CD çš„æµç¨‹ é€™æ˜¯ç®—æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥åˆ°çš„æ¡ˆå­ é€™å€‹æ¡ˆå­æˆ‘æ¥äº†å¤§æ¦‚ 3-4 å€‹æœˆ ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¸åˆ° CI/CD çš„é‡è¦æ€§ é€éé€™å€‹æ¡ˆå­å­¸åˆ°çš„ï¼š\nå¿«é€Ÿä¸Šæ‰‹ä¸ç†Ÿæ‚‰çš„èªè¨€å’Œæ¡†æ¶ ä¸€äº›æ¡†æ¶å»¶ä¼¸çš„ design pattern MVCã€DAO çœ‹æ‡‚åˆ¥äººçš„ code çš„é€Ÿåº¦ ä¸Šæ‰‹åˆ¥äººå°ˆæ¡ˆçš„é€Ÿåº¦ ä¸€é–‹å§‹çœŸçš„çœ‹ä¸è“‹æ‡‚å“ªé‚Šæ˜¯åœ¨å¯«ä»€éº¼é‚è¼¯ å¾Œä¾†æ…¢æ…¢ç†Ÿæ‚‰å¾Œï¼Œå°±å¯ä»¥å¿«é€Ÿæ‰¾åˆ°å°æ‡‰çš„ code äº†è§£åˆ° CI/CD çš„é‡è¦æ€§ å° git æ›´ç†Ÿä¸€äº› ç•¶æ™‚æ˜¯å° feature é–‹ branch ï¼Œç„¶å¾Œ hostinger ä¸Šçš„ code å°±æ˜¯ master åå‘ git flow çš„æ–¹å¼ ç¤¾åœ˜ # åœ¨é–‹å­¸å‰ï¼Œæ½›æ°´åˆ°æˆå¤§é›»æ©Ÿçš„ FB ç¤¾åœ˜ çµæœå‰›å¥½çœ‹åˆ°GDCS( Google Developer Student Club in NCKU ) çš„æ¨å»£è²¼æ–‡ å°±å»å ±åäº† é‚£æ™‚å€™ä»¥ç‚ºè¦æˆç‚ºã€Œæ ¸å¿ƒæˆå“¡ã€æ‰èƒ½è½èª² çµæœæ˜¯ã€Œæ ¸å¿ƒæˆå“¡ã€æ˜¯è¦æ•™èª²çš„ é–‹å­¸æ‰æ‹›å‹Ÿçš„ã€Œä¸€èˆ¬æˆå“¡ã€æ‰æ˜¯è½èª²çš„ èª¤æ‰“èª¤æ’å¤§ä¸€å°±ç•¶ä¸Šæ ¸å¿ƒæˆå“¡äº† ğŸ¥µ ä¸Šå­¸æœŸ NCKU GDSC çš„çµ„åˆ¥\nçµæœå°±è®Šæˆæ ¸å¿ƒæˆå“¡åœ¨æ•™ Flutter ( ç•¶æ™‚å‰›å¥½åŠ å…¥ Flutter çµ„ ) Flutter Tutorial çš„ repository jason810496/FlutterToturial Dart Toturial for GDSC NCKU Dart 1 0 åœ¨å­¸æœŸåˆèª²ç¨‹éƒ½é‚„æ²’ä»€éº¼å£“åŠ› æ„Ÿè¦ºé‚„æœ‰é»é–’ å°±é¡å¤–åŠ å…¥å…¶ä»–çµ„\nSolidity è®€æ›¸æœƒ å­¸ç¿’ Solidity å’Œ Ethereum ç›¸é—œçš„çŸ¥è­˜ çµ„é•·æœƒåˆ†é…æ¯æ¬¡çš„ loading ï¼Œ å¤§å®¶è¦çœ‹éæ‰€æœ‰çš„ loading ï¼Œ ä¸‹æ¬¡è®€æ›¸æœƒçš„æ™‚å¾Œæœƒè¼ªæµåˆ†äº«è¨è«– è³‡å®‰å¯†ç¢¼å­¸çµ„ ä¸€é–‹å§‹æ˜¯ç´”å¯†ç¢¼å­¸ å¾Œä¾†è½‰ç‚ºåå¯¦ä½œçš„ CTF ä½†åªæœ‰ä¸Šéå…©å ‚èª²å°±å¤§å®¶éƒ½é€²å…¥æœŸæœ«é€±äº† ä½†æ˜¯åœ¨æœŸæœ«å„ç¨® Deadline è½Ÿç‚¸ä¸‹ å°±ç™¼ç¾åŠ å¤ªå¤šçµ„åˆ¥äº† å®Œå…¨å¿™ä¸å¤ªéä¾† æœ€å¾Œåªæœ‰å»åœ¨ Flutter çµ„ å°å…¶ä»–çµ„çš„çµ„é•·å¾ˆç ²æ­‰ ğŸ˜¥ æ¯”è³½ # NCPC # æ‡‰è©²æ˜¯å› ç‚º APCS çµ„é€²ä¾†çš„é—œä¿‚ï¼Œå‰›å¥½è·Ÿå…©å€‹ç«¶ç¨‹ç‰¹é¸å¤§ä½¬ @ColtenOuOè·Ÿ @erichung1113 æ˜¯åŒä¸€å€‹å°å¸«ï¼ˆäººè¶…å¥½çš„å¥‡æ¥­æ•™æˆï¼ï¼‰\næ‰¾æˆ‘å€‘å»èŠå¤©çš„æ™‚å€™å‰›å¥½èŠåˆ° ICPC è·Ÿ NCPC é€™å…©å€‹æ¯”è³½ åŸæœ¬å¤§å­¸æ²’æœ‰æƒ³è¦æ‰“æ¯”è³½ï¼Œä¸éå¥½åƒè¬›ä¸€è¬›å°±å ±åäº† æœ€å¾Œæ˜¯ @erichung1113 è·Ÿæ‰“å­—è¶…çˆ†å¿«çš„å¦ä¸€å€‹ç‰¹é¸å¤§ä½¬ @jerrykal ä¸€éšŠ\n( æœ€å¾Œåœ¨ NCPC æ‹¿ä½³ä½œï¼Œå·®å¹¾åå°±å¯ä»¥å»æ¯” ICPC äº† )\nEOF CTF # @ColtenOuOæŸå¤©çªç„¶å•æˆ‘è¦ä¸è¦å ± EOF CTF ï¼Œ èªª @bacon-cyå­¸å§Šæ‰¾ä»–ä¸€èµ·å ± è¦ä¸è¦ä¸€èµ·ä¾†ç© çµæœé‚„ç¼ºä¸€å€‹éšŠå‹ ï¼ˆé‚£æ™‚å€™æˆ‘åœ¨ GDSC å¯†ç¢¼å­¸è³‡å®‰çµ„ï¼‰å‰›å¥½åœ¨è£¡é¢èªè­˜ä¸€å€‹å¾ˆå¼·çš„å­¸é•· @ä¸‰è…³è›‡ å°±é †ä¾¿æ‹‰ä»–ä¸€èµ·ä¾†æ¯”äº† çµæœæ¯”è³½ç¬¬ä¸€å¤©å‰›å¥½é¨è»Šå»å˜‰ç¾©é˜¿é‡Œå±± å¾Œä¾†ä¹Ÿæ²’è§£å‡ºè²ä¸‹çš„é¡Œç›® ï¼ˆ æˆ‘åªæœƒ web ï¼Œ ä½†é‚£æ¬¡çš„ web éƒ½æ²’ä»€éº¼é ­ç·’ï¼Œä¹Ÿæœ‰é»èˆŠæ²’æœ‰ç¢° CTF äº† ï¼‰\næ‰€ä»¥åŸºæœ¬ä¸Šæ²’æœ‰è²¢ç»ï¼Œè·ŸéšŠå‹èªªæŠ±æ­‰ ğŸ˜¢ HITCON CTF # ä¹‹å‰èŠå¤©çš„æ™‚å€™å¤§äºŒçš„ @Vincent550102 å­¸é•·æœ‰æŠŠæˆ‘æ‹‰åˆ° NCKU CTF çš„ DC è£¡é¢ä¸å®šæ™‚æœƒæªåœ˜æ‰“ CTF ä¸€å¹´ä¸€æ¬¡çš„ HITCON CTF å­¸é•·å€‘ç•¶ç„¶ä¸æœƒéŒ¯é çµæœçœ‹äº†ç¬¬ä¸€é¡Œ web é¡Œ ï¼ˆ ä¸»è¦æ˜¯å¾å‰ç«¯ js bypass ï¼Œ å¥½åƒè¦é€åˆ°å¾Œç«¯çš„ content è¦ç¬¦åˆé•·åº¦é™åˆ¶é‚„æœ‰ä¸€äº› byte æ“ä½œ ï¼‰ çœ‹äº†å¾ˆä¹…ï¼Œæ¸¬äº†å¾ˆå¤šæ–¹æ³•ï¼Œä¸éé‚„æ˜¯æ²’è§£è®€å‡ºé—œéµçš„ code ( åªèƒ½èªªå° js çš„ä¸€äº›ç´°ç¯€åŸç”Ÿæ–¹æ³•é‚„ä¸å¤ ç†Ÿæ‚‰ï¼ ï¼  ) å¾Œä¾†ç¾¤å…§æœ‰å…¶ä»–å¤§ä½¬è§£å‡ºäº†ï¼ï¼ï¼ é™¸çºŒä¹Ÿæœ‰å…¶ä»–å¤§ä½¬è§£å‡ºä¸å°‘é¡Œ æœ€å¾Œ NCKU CTF å…¨çƒç¬¬ 37 å (å°ç£ç¬¬2; å…± 95 åœ‹ï¼Œ1243 å€‹éšŠä¼åƒè³½) é€™å ´ä¹Ÿæ˜¯æ‰“æ°´æ¼‚ï¼Œæ²’æœ‰è²¢ç» ğŸ¥² å­¸é•·å€‘è¶…å¼· Orz åªæœƒ web ä½†é‡åˆ°æœ‰é›£åº¦çš„ web åˆå¯«ä¸å‡ºä¾†ï¼ŒçœŸçš„é‚„ç¼ºè »å¤šç¶“é©—çš„ ï¼ˆ æœ€å¾Œçš„ Ranking ï¼‰\nèª²ç¨‹ # å¯¦ä½œé¡ # ç¨‹å¼è¨­è¨ˆï¼ˆä¸€ï¼‰ åœ¨æ•™ C çš„èªæ³•ï¼Œä½œæ¥­é¡Œç›®æœ‰äº›æœ‰é»æ¯’ç˜¤ è€ƒè©¦æœƒè¶…é 100 åˆ†ï¼Œå°åˆå­¸è€…ä¾†èªªæœ‰é»é›£ ä¸éæ•™æˆäººè »å¥½çš„ï¼Œä¸åˆ° 60 åˆ†çš„éƒ½æœƒé–‹æ ¹è™Ÿä¹˜ 10 ç¨‹å¼è¨­è¨ˆï¼ˆä¸€ï¼‰çš„ repository jason810496/CKJudge Programming Design 1 Exercises C 0 0 å› ç‚ºä¹‹å‰æœ‰ C çš„ç¶“é©—ï¼Œæ‰€ä»¥ä½œæ¥­éƒ½ç®—é‚„å¥½ æœ€å¾Œ 100 åˆ†é è¦–çª—ç¨‹å¼è¨­è¨ˆ C# , OOP WindForm Unity æœŸæœ«å°ˆæ¡ˆ èª²ç¨‹å‰æœŸ å‰æœŸéƒ½åœ¨æ•™ C# çš„ WinForm é‚„æœ‰è¶…åŸºæœ¬çš„ OOP ï¼Œä½†æ˜¯åˆæ²’æœ‰è¬›åˆ°ä¸€äº› OOP çš„é‡é» ï¼ˆ å¤§æ¦‚åªæœ‰è¬›åˆ° constructor ã€ç¹¼æ‰¿ ï¼Œä½†æ˜¯åƒ interface æˆ–å¤šå‹é€™ç¨®éƒ½æ²’æœ‰ç‰¹åˆ¥èªªåˆ° ï¼‰\nåŠ©æ•™çš„ Deadline éƒ½å£“å¾ˆç·Šä½†æ˜¯åˆæ”¹è¶…ç´šæ…¢\u0026hellip; èª²å ‚å®Œæˆæœ‰ Bonus åˆ†ï¼Œä½†åŸºæœ¬ä¸Šä¸å¤ªå¯èƒ½åœ¨ä¸‹èª²å‰å®Œæˆ å° Mac M1 çš„ç”¨æˆ¶ä¾†èªªï¼Œä¸€å®šè¦å…ˆè£å¥½ Window çš„ VM æ‰æœ‰è¾¦æ³•å®Œæˆ WinForm çš„ä½œæ¥­ æœŸä¸­è€ƒæ˜¯ä¸Šæ©Ÿè€ƒï¼Œä¸éä¹Ÿæ˜¯åˆ» WinForm è·Ÿä½œæ¥­å·®ä¸å¤š è¦–çª—ç¨‹å¼è¨­è¨ˆçš„ repository jason810496/Window-Programming C# 2 0 èª²ç¨‹ä¸­æœŸ\né–‹å§‹æ•™ Unity ï¼Œç”±åŠ©æ•™æ•™ Unity 3D åšéŠæˆ² æ²’æœ‰è·Ÿè‘—åŠ©æ•™æ˜¯çœŸçš„ä¸çŸ¥é“æ€éº¼æ“ä½œ ç„¶å¾Œæ•™å¤§æ¦‚ 3 é€±å¾Œï¼Œå°±è¦åšä¸€å€‹åŒ…å«è »å¤š features çš„éŠæˆ² Legend of Viking jason810496/Legend-of-Viking My Unity Game deploy on Github page HTML 0 0 ï¼ˆ Unity å¤§ä½œæ¥­ repository ï¼‰\nGithub Page Demo\nï¼ˆ å¾Œä¾†æœ‰æŠŠéŠæˆ² compile æˆ WebGL éƒ¨ç½²åœ¨ Github Page ï¼‰\nèª²ç¨‹å¾ŒæœŸ\næœ€å¾Œè¦åšä¸€å€‹æœŸæœ«å°ˆæ¡ˆ ä¸»é¡Œä¸é™ï¼Œå¯ä»¥æ˜¯ï¼š WinForm å·¥å…·ã€Unity å¤šäººéŠæˆ²ã€åªè¦æ˜¯ C# å¯«çš„æ‡‰è©²éƒ½å¯ä»¥\n( èªªä¸å®š Asp.Net ä¹Ÿå¯ä»¥ XD )\næœ€å¾Œæˆ‘åšçš„å°å°ˆæ¡ˆæ˜¯åš Live Share IDE ä¸€å€‹å¯ä»¥å³æ™‚å…±äº«è³‡è¨Šçš„ IDE Tech stackï¼š\nWinForm Python åŸç”Ÿ socket åªç”¨é€™äº›æ±è¥¿è‡ªå¹¹å‡ºä¾†çš„ ouo ( é‚£æ™‚å€™ä¸çŸ¥é“ç‚ºä»€éº½å¾ˆå–œæ­¡ç¡¬å¹¹ï¼Œä¸å–œæ­¡ç”¨ç¾æˆçš„ packages ) æˆæœï¼š\nLive Share IDE çš„ repository jason810496/Live-Share-IDE A Live-Share IDE written in C#. With directory tree , syntax high-lighting , chat room \u0026hellip; etc C# 2 0 ( å¯ä»¥çœ‹æˆè·Ÿ VSCode ä»‹é¢å¾ˆåƒï¼Œä¸éæœ¬èº«å°±æœ‰æ”¯æ´ chatroom çš„ IDE )\nå†æ±ºå®šå¥½ä¸»é¡Œå¾Œå…¶å¯¦éƒ½æ²’æœ‰å‹•å·¥ æ˜¯åœ¨ Demo å‰ä¸€å¤©èŠ±ä¸€å¤©åŠå¹¹å‡ºä¾†çš„ é€™é–€èª²å°æˆ‘æ‡‰è©²å°±æ˜¯åœ¨è¨“ç·´ã€Œè¶• Deadline ã€\nå­¸ç§‘é¡ # æ™®ç‰©\nå¾®ç©åˆ†\næ•¸ä½é›»è·¯å°è«–\nç¸½çµ # åœ¨æœ€ä½é™åº¦ç¶­æŒå­¸ç§‘çš„æƒ…æ³ï¼Œæ‰€æœ‰ç§‘ç›®éƒ½å¹¸é‹çš„ Pass äº†ï¼\nä½†æˆç¸¾çœŸçš„ä¸å¤ªå¥½çœ‹\nè·Ÿç¨‹è¨­æœ‰é—œçš„ç§‘ç›®\nå› ç‚ºé«˜ä¸‰æ¥ä½œæ¥­çš„é—œä¿‚ï¼Œåœ¨å¯¦ä½œä¸€äº›æ¯”è¼ƒè¤‡é›œçš„ä½œæ¥­å°±ä¸æœƒæ’æ–¥\nä¹Ÿä¸ç”¨ç‰¹åˆ¥è¤‡ç¿’\nåœ¨æ¥æ¡ˆå’Œç”¨ HSPC ç³»çµ±çš„éç¨‹ä¸­æ¯”è¼ƒæœ‰æ”¶ç©«\näº†è§£ç‚ºä»€éº¼è¦æœ‰ æ¡†æ¶ ã€ CI/CD ã€ DevOps é€™äº›æŠ€è¡“\nä½†æ˜¯åœ¨æ•´é«”æ™‚é–“åˆ†é…æ‡‰è©²é‚„è¦å†èª¿æ•´ä¸€ä¸‹\nä¸€æ¬¡åƒåŠ å¤ªå¤šæ´»å‹•æœ€å¾ŒçœŸçš„éƒ½æœƒå¿™ä¸éä¾†\n","date":"2023-06-23","externalUrl":null,"permalink":"/zh-tw/note/csie-freshman-first-semester/","section":"Note","summary":"å¤§ä¸€ä¸Šåˆ°åº•åšäº†ä»€éº¼","title":"æˆå¤§è³‡å·¥å¤§ä¸€ä¸Šç´€éŒ„","type":"note"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/zh-tw/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/zh-tw/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/zh-tw/topics/","section":"Topics","summary":"","title":"Topics","type":"topics"}]